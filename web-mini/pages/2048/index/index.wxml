<view class="container" style="position: fixed; width: 100vw; padding-top: {{CustomBar}}px;">
  <view class="header">
    <view class="title">2048<text bind:tap="showModal" data-target="gameRuleModal" class="text-light light cuIcon-question padding-left-sm"></text></view>
    <view class="scores">
      <view class="score-box" bind:tap="goto">
        <text class="score-label">主页</text>
        <text class="cuIcon-home score-value"></text>
      </view>
      <view class="score-box">
        <text class="score-label">分数</text>
        <text class="score-value">{{score}}</text>
      </view>
      <view class="score-box">
        <text class="score-label">最佳</text>
        <text class="score-value">{{bestScore}}</text>
      </view>
    </view>
  </view>

  <view class="game-container">
    <view class="board-wrapper">
      <view class="board" bindtouchstart="touchStart" bindtouchend="touchEnd">
        <view wx:for="{{board}}" wx:for-index="rowIdx" wx:for-item="row" wx:key="rowIdx" class="row">
          <view wx:for="{{row}}" wx:for-index="colIdx" wx:for-item="cell" wx:key="colIdx" class="cell">
            <view wx:if="{{cell !== 0}}" class="tile tile-{{cell}}">
              {{cell}}
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  <view class="controls">
    <button class="btn" bindtap="restart">重新开始</button>
  </view>

</view>

  <!-- 游戏规则 -->
  <view class="cu-modal {{modalName == 'gameRuleModal'?'show':''}}">
    <view class="cu-dialog">
      <view class="cu-bar bg-white justify-end">
        <view class="content">游戏规则</view>
        <view class="action" bindtap="hideModal">
          <text class="cuIcon-close text-red"></text>
        </view>
      </view>
      <view class="padding bg-white" style="text-align: start;">
        <text class="rules-text">滑动屏幕来移动方块</text>
      </view>
    </view>
  </view>